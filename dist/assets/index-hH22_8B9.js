(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}})();const u="https://nwgopjqgwdbmbwzctads.supabase.co",f="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im53Z29wanFnd2RibWJ3emN0YWRzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI1MDAwMDcsImV4cCI6MjA2ODA3NjAwN30.cd57Ldr86E44SkY77UdhKxY891BD-fltAC2mgcAcH_c";let c;function h(){const e=window.SUPABASE_URL||u,n=window.SUPABASE_ANON_KEY||f;if(window.supabase)c=window.supabase.createClient(e,n);else return console.warn("‚ö†Ô∏è Supabase client not loaded. Please include Supabase CDN script."),!1;return!0}function d(e){const n=document.getElementById(e);n&&(n.innerHTML='<div class="loading">Loading...</div>')}function a(e,n){const t=document.getElementById(e);t&&(t.innerHTML=`<div class="error">Error: ${n}</div>`)}async function m(){d("blog-container");try{const{data:e,error:n}=await c.from("blogs").select("*").order("created_at",{ascending:!1}).limit(6);if(n){console.error("Error fetching blogs:",n),a("blog-container","Failed to load blogs");return}const t=document.getElementById("blog-container");if(!t)return;if(!e||e.length===0){t.innerHTML="<p>No blog posts available at the moment.</p>";return}t.innerHTML=e.map(o=>`
            <div class="blog-post-card">
                <h3>${s(o.title)}</h3>
                <p class="blog-excerpt">${s(o.excerpt||"No excerpt available.")}</p>
                ${o.link?`<a href="${o.link}" class="read-more-link" target="_blank" rel="noopener noreferrer">Read More ‚Üí</a>`:'<span class="read-more-link disabled">Coming Soon ‚Üí</span>'}
            </div>
        `).join("")}catch(e){console.error("Error loading blogs:",e),a("blog-container","Failed to load blogs")}}async function p(){d("testimonial-container");try{const{data:e,error:n}=await c.from("testimonials").select("*").order("created_at",{ascending:!1});if(n){console.error("Error fetching testimonials:",n),a("testimonial-container","Failed to load testimonials");return}const t=document.getElementById("testimonial-container");if(!t)return;if(!e||e.length===0){t.innerHTML="<p>No testimonials available at the moment.</p>";return}t.innerHTML=e.map(o=>`
            <div class="testimonial-card">
                <div class="testimonial-quote">${s(o.quote)}</div>
                <div class="testimonial-author">‚Äî ${s(o.author)}</div>
            </div>
        `).join(""),E()}catch(e){console.error("Error loading testimonials:",e),a("testimonial-container","Failed to load testimonials")}}async function g(){d("faq-container");try{const{data:e,error:n}=await c.from("faqs").select("*").order("created_at",{ascending:!1});if(n){console.error("Error fetching FAQs:",n),a("faq-container","Failed to load FAQs");return}const t=document.getElementById("faq-container");if(!t)return;if(!e||e.length===0){t.innerHTML="<p>No FAQs available at the moment.</p>";return}t.innerHTML=e.map((o,r)=>`
            <div class="faq-item" data-faq-id="${o.id}">
                <h4>${s(o.question)}</h4>
                <p>${s(o.answer)}</p>
            </div>
        `).join(""),b()}catch(e){console.error("Error loading FAQs:",e),a("faq-container","Failed to load FAQs")}}function b(){const e=document.querySelectorAll(".faq-item");e.forEach(n=>{const t=n.querySelector("h4");t&&t.addEventListener("click",()=>{e.forEach(o=>{o!==n&&o.classList.remove("active")}),n.classList.toggle("active")})})}function E(){const e=document.getElementById("testimonial-container"),n=document.getElementById("scroll-left"),t=document.getElementById("scroll-right");!e||!n||!t||(n.addEventListener("click",()=>{e.scrollBy({left:-300,behavior:"smooth"})}),t.addEventListener("click",()=>{e.scrollBy({left:300,behavior:"smooth"})}))}function s(e){if(!e)return"";const n=document.createElement("div");return n.textContent=e,n.innerHTML}function w(e,n){return window.SUPABASE_URL=e,window.SUPABASE_ANON_KEY=n,window.supabase?(c=window.supabase.createClient(e,n),console.log("‚úÖ Supabase configured successfully"),!0):!1}async function y(){if(console.log("üöÄ Initializing dynamic content..."),!h()){console.warn("‚ö†Ô∏è Supabase not available. Dynamic content will not load.");return}const e=window.SUPABASE_URL||u,n=window.SUPABASE_ANON_KEY||f;if(e==="https://your-project-ref.supabase.co"||n==="your-anon-key-here"){console.warn("‚ö†Ô∏è SETUP REQUIRED: Please configure your Supabase credentials"),["blog-container","testimonial-container","faq-container"].forEach(t=>{const o=document.getElementById(t);o&&(o.innerHTML=`
                    <div class="setup-message" style="text-align: center; padding: 2rem; background: rgba(255, 255, 255, 0.8); border-radius: 8px; margin: 1rem 0;">
                        <h3>Setup Required</h3>
                        <p>Please configure your Supabase credentials to load dynamic content.</p>
                        <p>Check the console or README for setup instructions.</p>
                    </div>
                `)});return}try{await Promise.all([m(),p(),g()]),console.log("‚úÖ Dynamic content loaded successfully")}catch(t){console.error("‚ùå Error initializing dynamic content:",t)}}window.TerraMateDynamicContent={initialize:y,configure:w,loadBlogs:m,loadTestimonials:p,loadFaqs:g};document.addEventListener("DOMContentLoaded",y);
